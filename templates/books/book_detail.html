{% extends 'base.html' %}
{% load static %}

{% block title %}üìñ Book Details{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4 text-center">üìò Book Details</h2>

    <!-- üîπ ‡§™‡•Å‡§∏‡•ç‡§§‡§ï‡§æ‡§ö‡•Ä ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä -->
    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <h4>{{ book.title }}</h4>
        </div>
        <div class="card-body">
            <p><strong>Author(s):</strong> {{ book.get_authors }}</p> <!-- ‡§≤‡•á‡§ñ‡§ï -->
            <p><strong>ISBN:</strong> {{ book.isbn }}</p>
            <p><strong>Category:</strong> {{ book.category.name }}</p>
            <p><strong>Description:</strong> {{ book.description }}</p> <!-- ‡§µ‡§∞‡•ç‡§£‡§® -->
            <p><strong>Published:</strong> {{ book.published_date }}</p> <!-- ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂‡§® ‡§§‡§æ‡§∞‡•Ä‡§ñ -->
            <p><strong>Total Copies:</strong> {{ copies.count }}</p> <!-- ‡§è‡§ï‡•Ç‡§£ ‡§™‡•ç‡§∞‡§§‡•Ä -->
            <p><strong>Available Copies:</strong> {{ available_copies }}</p> <!-- ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§™‡•ç‡§∞‡§§‡•Ä -->
        </div>
    </div>

    <!-- üîπ ‡§§‡•ç‡§Ø‡§æ ‡§™‡•Å‡§∏‡•ç‡§§‡§ï‡§æ‡§ö‡•ç‡§Ø‡§æ ‡§∏‡§∞‡•ç‡§µ copies ‡§ö‡•Ä ‡§Ø‡§æ‡§¶‡•Ä -->
    <h4>üì¶ Book Copies</h4>
    {% if copies %}
    <table class="table table-bordered table-striped">
        <thead class="thead-dark">
            <tr>
                <th>#</th>
                <th>Copy ID</th>
                <th>Status</th>
                <th>Location</th>
            </tr>
        </thead>
        <tbody>
            {% for copy in copies %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ copy.id }}</td>
                <td>
                    {% if copy.status == 'available' %}
                        <span class="text-success">‚úÖ Available</span>
                    {% else %}
                        <span class="text-danger">‚ùå Borrowed</span>
                    {% endif %}
                </td>
                <td>{{ copy.library_location }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <p>this book copy is not available.</p>
    {% endif %}

    <a href="{% url 'books:book_list' %}" class="btn btn-secondary mt-3">‚Üê Back to Home</a>
</div>
{% endblock %}
